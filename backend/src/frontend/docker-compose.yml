backend:
  build:
    context: ./backend
    dockerfile: Dockerfile
  container_name: timeless-backend
  ports:
    - "8080:8080"
  environment:
    SPRING_PROFILES_ACTIVE: prod
    DB_URL: jdbc:postgresql://db:5432/timeless
    DB_USERNAME: postgres
    DB_PASSWORD: secret
    FLY_API_TOKEN: ${FLY_API_TOKEN}
    APP_ADMIN_FULLNAME: "Owner User"
    APP_ADMIN_USERNAME: "owner"
    APP_ADMIN_PASSWORD: "StrongPassword123"
    APP_ADMIN_ROLE: "OWNER"
  depends_on:
    - db
  networks:
    - timeless-network
